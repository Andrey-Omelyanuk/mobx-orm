{"version":3,"file":"mobx-orm.js","sources":["../src/config.ts","../src/cache.ts","../src/repository.ts","../src/utils.ts","../src/inputs/Input.ts","../src/inputs/OrderByInput.ts","../src/inputs/NumberInput.ts","../src/inputs/ArrayInput.ts","../src/inputs/StringInput.ts","../src/inputs/ArrayStringInput.ts","../src/queries/query.ts","../src/queries/query-page.ts","../src/queries/query-cache-sync.ts","../src/queries/query-stream.ts","../src/queries/query-raw.ts","../src/queries/query-raw-page.ts","../src/queries/query-distinct.ts","../src/model.ts","../src/fields/field.ts","../src/fields/foreign.ts","../src/fields/one.ts","../src/fields/many.ts","../src/filters/Filter.ts","../src/filters/SingleFilter.ts","../src/filters/ComboFilter.ts","../src/filters/EQ.ts","../src/filters/NOT_EQ.ts","../src/filters/GT.ts","../src/filters/GTE.ts","../src/filters/LT.ts","../src/filters/LTE.ts","../src/filters/IN.ts","../src/filters/LIKE.ts","../src/filters/ILIKE.ts","../src/filters/AND.ts","../src/adapters/adapter.ts","../src/adapters/read-only.ts","../src/adapters/local.ts","../src/inputs/BooleanInput.ts","../src/inputs/DateInput.ts","../src/inputs/DateTimeInput.ts","../src/inputs/EnumInput.ts","../src/inputs/ArrayNumberInput.ts","../src/inputs/ObjectInput.ts","../src/inputs/auto-reset/autoResetId.ts","../src/inputs/auto-reset/autoResetArrayOfIDs.ts","../src/inputs/auto-reset/autoResetArrayToEmpty.ts","../src/forms/Form.ts"],"sourcesContent":["// Global config of Mobx-ORM\nexport const config = {\n    DEFAULT_PAGE_SIZE   : 50,\n    AUTO_UPDATE_DELAY   : 100,  // ms\n    NON_FIELD_ERRORS_KEY: 'non_field_errors',\n    // NOTE: React router manage URL by own way. \n    // change UPDATE_SEARCH_PARAMS and WATCTH_URL_CHANGES in this case\n    UPDATE_SEARCH_PARAMS: (search_params: URLSearchParams) => {\n        window.history.pushState(null, '', `${window.location.pathname}?${search_params.toString()}`)\n\n    },\n    WATCTH_URL_CHANGES: (callback: any) => {\n        window.addEventListener('popstate', callback)\n        return () => { window.removeEventListener('popstate', callback) }\n    },\n}\n","import { action, makeObservable, observable } from 'mobx'\nimport { Model } from './model'\n\n\nexport class Cache<M extends Model> {\n                readonly name: string\n                readonly model: any  // TODO: type\n    @observable readonly store: Map<number, M>\n\n    constructor(model: any, name?: string) {\n        this.name = name ? name : model.name \n        this.model = model\n        this.store = new Map<any, M>()\n        makeObservable(this)\n    }\n\n    get(id: any): M|undefined {\n        return this.store.get(id)\n    }\n\n    @action('cache - inject')\n    inject(obj: M) {\n        if (obj.id === undefined)\n            throw new Error(`Object should have id!`)\n\n        const exist_obj = this.store.get(obj.id)\n        if (exist_obj && exist_obj !== obj)\n            throw new Error(`Object ${obj.constructor.name}: ${obj.id} already exist in the cache. ${this.name}`)\n\n        this.store.set(obj.id, obj)\n    }\n\n    @action('cache - eject')\n    eject(obj: M) {\n        return this.store.delete(obj.id)\n    }\n\n    @action('cache - update')\n    update(raw_obj: any): M {\n        let obj: M = this.store.get(raw_obj.id)\n        if (obj)\n            obj.updateFromRaw(raw_obj)\n        else {\n            obj = new this.model(raw_obj)\n            this.inject(obj)\n        }\n        return obj\n    }\n\n    @action('cache - clear')\n    clear() {\n        for (let obj of this.store.values()) obj.destroy()\n        this.store.clear()\n    }\n}\n","import { runInAction } from 'mobx'\nimport { Model } from './model'\nimport { Cache } from './cache'\nimport { Query } from './queries/query'\nimport { Filter } from './filters'\nimport { Adapter } from './adapters/adapter'\n\n\nexport class  Repository<M extends Model> {\n    readonly model      : any \n    readonly cache     ?: Cache<M>\n    readonly adapter    : Adapter<M> \n\n    constructor(model: any, adapter: any, cache?: any) {\n        this.model      = model \n        this.adapter    = adapter \n        this.cache      = cache ? cache : new Cache<M>(model)\n    }\n\n    async action(obj: M, name: string, kwargs: Object, controller?: AbortController) : Promise<any> {\n        return await this.adapter.action(obj.id, name, kwargs, controller)\n    }\n\n    async create(obj: M, controller?: AbortController) : Promise<M> {\n        let raw_obj = await this.adapter.create(obj.raw_data, controller)\n        obj.updateFromRaw(raw_obj)  // update id and other fields\n        obj.refreshInitData()       // backend can return default values and they should be in __init_data\n        return obj\n    }\n\n    async update(obj: M, controller?: AbortController) : Promise<M> {\n        let raw_obj = await this.adapter.update(obj.id, obj.only_changed_raw_data, controller)\n        obj.updateFromRaw(raw_obj)\n        obj.refreshInitData()\n        return obj\n    }\n\n    async delete(obj: M, controller?: AbortController) : Promise<M> {\n        await this.adapter.delete(obj.id, controller)\n        obj.destroy()\n        this.cache.eject(obj)\n        return obj\n    }\n\n    async get(obj_id: number, controller?: AbortController): Promise<M> {\n        let raw_obj = await this.adapter.get(obj_id, controller)\n        if (this.cache) {\n            const obj = this.cache.update(raw_obj)\n            obj.refreshInitData()\n            return obj\n        } \n        return new this.model(raw_obj) \n    }\n\n    /* Returns ONE object */\n    async find(query: Query<M>, controller?: AbortController): Promise<M> {\n        let raw_obj = await this.adapter.find(query, controller)\n        if (this.cache) {\n            const obj = this.cache.update(raw_obj)\n            obj.refreshInitData()\n            return obj\n        } \n        return new this.model(raw_obj) \n    }\n\n    /* Returns MANY objects */\n    async load(query: Query<M>, controller?: AbortController):Promise<M[]> {\n        let raw_objs = await this.adapter.load(query, controller)\n        let objs: M[] = []\n        // it should invoke in one big action\n        runInAction(() => {\n            if (this.cache) {\n                for (let raw_obj of raw_objs) {\n                    const obj = this.cache.update(raw_obj)\n                    obj.refreshInitData()\n                    objs.push(obj)\n                }\n            } \n            else {\n                for (let raw_obj of raw_objs) {\n                    objs.push(new this.model(raw_obj))\n                }\n            }\n        })\n        return objs\n    }\n\n    async getTotalCount  (filter: Filter, controller?: AbortController): Promise<number> {\n        return await this.adapter.getTotalCount(filter, controller)\n    }\n    async getDistinct    (filter: Filter, field: string, controller?: AbortController): Promise<any[]> {\n        return await this.adapter.getDistinct(filter, field, controller)\n    }\n}\n\n\n// Model.repository is readonly, use decorator to customize repository \nexport function repository(adapter: any, cache?: any) {\n    return (cls: any) => {\n        let repository = new Repository(cls, adapter, cache) \n        cls.__proto__.repository = repository\n    }\n}","import { autorun } from \"mobx\"\n\nexport function waitIsTrue(obj: any, field: string) : Promise<Boolean> {\n    return new Promise((resolve, reject) => { \n        autorun((reaction) => {\n            if (obj[field]) {\n                reaction.dispose()\n                resolve(true) \n            }\n        })\n    })\n}\n\nexport function waitIsFalse(obj: any, field: string) : Promise<Boolean> {\n    return new Promise((resolve, reject) => { \n        autorun((reaction) => {\n            if (!obj[field]) {\n                reaction.dispose()\n                resolve(true) \n            }\n        })\n    })\n}\n","import _ from 'lodash'\nimport { action, makeObservable, observable, reaction, runInAction } from 'mobx'\nimport { config } from '../config'\nimport { Model } from '../model'\nimport { Query } from '../queries/query'\nimport { AutoReset } from './auto-reset/AutoReset'\n\n\nexport interface InputConstructorArgs<T, M extends Model> {\n    value               ?: T\n    options             ?: Query<M>\n    required            ?: boolean\n    disabled            ?: boolean\n    syncURL             ?: string\n    syncURLSearchParams ?: string\n    syncLocalStorage    ?: string\n    debounce            ?: number\n    autoReset           ?: (input: Input<T, M>) => void // deprecated use autoResetClass instead\n    autoResetClass      ?: new (input: Input<T, M>) => AutoReset<Input<T, M>> \n}\n\nexport abstract class Input<T, M extends Model> {\n    @observable          value               : T\n    @observable          errors              : string[] = []\n                readonly options            ?: Query<M> // should be a Query\n    @observable          required            : boolean \n    @observable          disabled            : boolean\n                readonly syncURLSearchParams?: string\n                readonly syncLocalStorage   ?: string\n                readonly debounce           ?: number \n                readonly autoReset          ?: (input: Input<T, M>) => void\n                readonly autoResetObj       ?:  AutoReset<Input<T, M>>\n\n    @observable isInit      : boolean\n    @observable __isReady   : boolean\n                __disposers = [] \n                __setReadyTrue: Function\n    \n    constructor (args?: InputConstructorArgs<T, M>) {\n        // init all observables before use it in reaction\n        this.value              = args?.value\n        this.options            = args?.options\n        this.required           = !!args?.required\n        this.disabled           = !!args?.disabled\n        this.syncURLSearchParams= args?.syncURL || args?.syncURLSearchParams\n        this.syncLocalStorage   = args?.syncLocalStorage\n        this.debounce           = args?.debounce\n        this.autoReset          = args?.autoReset\n        this.isInit             = false\n        this.__isReady          = !this.options\n        // if debounce is on then we have to have debounced version of __setReadyTrue\n        if (this.debounce)\n            this.__setReadyTrue = _.debounce(() => runInAction(() => this.__isReady = true), this.debounce)\n        else\n            this.__setReadyTrue = () => this.__isReady = true\n\n        makeObservable(this)\n        // init reactions\n        this.options                && this.__doOptions()\n        this.syncURLSearchParams    && this.__doSyncURLSearchParams()\n        this.syncLocalStorage       && this.__doSyncLocalStorage()\n        if (args?.autoResetClass) {\n            this.autoResetObj = new args.autoResetClass(this)\n        } else if (this.autoReset) {\n            this.__doAutoReset()\n        }\n    }\n\n    get isReady () {\n        return this.disabled\n        || (   this.__isReady \n            && (     this.options === undefined\n                // if not required and value is undefined or empty array - it is ready\n                || (!this.required && (this.value === undefined || (Array.isArray(this.value) && !this.value.length)))\n                ||   this.options.isReady\n            )\n        )\n    }\n\n    get isError () {\n        return this.errors.length > 0\n    }\n\n    @action set (value: T) {\n        this.value = value\n        // if debounce is on then set __isReady to false and then to true after debounce\n        if (this.debounce) this.__isReady = false\n\n        if (!this.required || !(this.required && value === undefined)) {\n            this.__setReadyTrue()\n        }\n        if (!this.isInit && (!this.options || this.options?.isReady)) {\n            this.isInit = true\n        }\n    }\n\n    destroy () {\n        this.__disposers.forEach(disposer => disposer())\n        this.options?.destroy()\n        this.autoResetObj?.destroy()\n    }\n\n    abstract serialize  (value : string) : void     // convert string to value\n    abstract deserialize()               : string   // convert value to string\n\n    toString () { // sinonim for deserialize\n        return this.deserialize() \n    }\n\n    // Any changes in options should reset __isReady\n    __doOptions () {\n        this.__disposers.push(reaction(\n            () => this.options.isReady,\n            () => {\n                this.__isReady = false\n            } \n        ))\n    }\n\n    __doAutoReset () {\n        this.__disposers.push(reaction(\n            () => this.options.is_ready && !this.disabled,\n            (is_ready) => {\n                if(is_ready) {\n                    this.autoReset(this)\n                } \n            },\n            { fireImmediately: true },\n        ))\n    }\n\n    __doSyncURLSearchParams () {\n        // init from URL Search Params\n        const name = this.syncURLSearchParams\n        const searchParams = new URLSearchParams(window.location.search)\n        if (searchParams.has(name)) {\n            this.serialize(searchParams.get(name))\n        }\n        \n        // watch for URL changes and update Input\n        function updataInputFromURL() {\n            const searchParams = new URLSearchParams(window.location.search)\n            if (searchParams.has(name)) {\n                const raw_value = searchParams.get(name)\n                const exist_raw_value = this.deserialize() \n                if (raw_value !== exist_raw_value) {\n                    this.serialize(raw_value)\n                }\n            }\n            else if (this.value !== undefined) {\n                this.set(undefined)\n            }\n        }\n        this.__disposers.push(config.WATCTH_URL_CHANGES(updataInputFromURL.bind(this)))\n\n        // watch for Input changes and update URL\n        this.__disposers.push(reaction(\n            // I cannot use this.value because it can be a Map\n            () => this.deserialize(),\n            () => {\n                const searchParams = new URLSearchParams(window.location.search)\n                const _value = this.deserialize()\n                if (_value === '' || _value === undefined) { \n                    searchParams.delete(name)\n                } else if (searchParams.get(name) !== _value) {\n                    searchParams.set(name, _value)\n                }\n                config.UPDATE_SEARCH_PARAMS(searchParams)\n            },\n            { fireImmediately: true },\n        ))\n    }\n\n    __doSyncLocalStorage () {\n        const name = this.syncLocalStorage\n        const raw_value = localStorage.getItem(name)\n        const exist_raw_value = this.deserialize() \n        if (exist_raw_value !== raw_value) {\n            this.serialize(raw_value)\n        }\n        this.__disposers.push(reaction(\n            () => this.value,\n            (value) => {\n                if (value !== undefined) {\n                    localStorage.setItem(name, this.deserialize())\n                } else {\n                    localStorage.removeItem(name)\n                }\n\n            },\n            { fireImmediately: true },\n        ))\n    }\n}\n","import { ASC, DESC, ORDER_BY } from '../queries/query'\nimport { Input } from './Input'\n\n\nexport class OrderByInput extends Input<ORDER_BY, any> {\n\n    serialize(value: string) {\n        let result: ORDER_BY = new Map()\n        if (value) {\n            for (const item of value.split(',')) {\n                if (item[0] === '-') {\n                    result.set(item.slice(1), DESC)\n                }\n                else {\n                    result.set(item, ASC)\n                }\n            }\n        }\n        this.value = result\n    }\n\n    deserialize() : string | undefined {\n        if (this.value) {\n            let result = ''\n            for (const [key, val] of this.value) {\n                if (result) result += ','\n                if (val === DESC) result += '-'\n                const field = key.replace(/\\./g, '__')\n                result += field \n            }\n            return result ? result : undefined\n        }\n        return undefined \n    }\n}\n","import { Model } from '../model'\nimport { Input } from './Input'\n\n\nexport class NumberInput<M extends Model> extends Input<number|null|undefined, M> {\n\n    serialize(value: string) {\n             if (value === undefined) this.set(undefined)\n        else if (value === 'null')    this.set(null)\n        else if (value === null)      this.set(undefined)\n        else {\n            let result = parseInt(value)\n            if (isNaN(result)) result = undefined\n            this.set(result)\n        }\n    }\n\n    deserialize(): string {\n        if (this.value === undefined) return undefined\n        if (this.value === null) return 'null'\n        return ''+this.value\n    }\n}\n","import { Model } from '../model'\nimport { Input, InputConstructorArgs } from './Input'\n\nexport abstract class ArrayInput<T, M extends Model> extends Input<T, M> {\n    constructor(args?: InputConstructorArgs<T, M>) {\n        if (args === undefined || args.value === undefined ) args = { ...args, value: [] as any}\n        super(args)\n    }\n}\n","import { Input } from './Input'\n\n\nexport class StringInput extends Input<string|null|undefined, any> {\n\n    serialize(value: string) {\n             if (value === undefined) this.set(undefined)\n        else if (value === 'null')    this.set(null)\n        else if (value === null)      this.set(undefined)\n        else this.set(value)\n    }\n\n    deserialize(): string {\n        if (this.value === undefined) return undefined\n        if (this.value === null) return 'null'\n        return this.value\n    }\n} \n","import { ArrayInput } from './ArrayInput'\nimport { StringInput } from './StringInput'\n\n\nexport class ArrayStringInput extends ArrayInput<string[], any> {\n\n    serialize(value: string) {\n        let result = [] \n        if (value) {\n            let converter = new StringInput()\n            for (const i of value.split(',')) {\n                converter.serialize(i)\n                if (converter.value !== undefined) {\n                    result.push(converter.value)\n                }\n            }\n        }\n        this.set(result)\n    }\n\n    deserialize() : string {\n        let result = [] \n        if (this.value) {\n            for (const i of this.value) {\n                let converter = new StringInput({value: i})\n                let v = converter.deserialize() \n                if (v !== undefined) {\n                    result.push(v)\n                }\n            }\n        }\n        return result.length ? result.join(',') : undefined\n    }\n}\n","import { action, makeObservable, observable, reaction, runInAction } from 'mobx'\nimport { Repository } from '../repository'\nimport { config } from '../config'\nimport { Model } from '../model'\nimport { Filter } from '../filters/Filter'\nimport { waitIsFalse, waitIsTrue } from '../utils'\nimport { OrderByInput } from '../inputs/OrderByInput'\nimport { NumberInput } from '../inputs/NumberInput'\nimport { ArrayStringInput } from '../inputs/ArrayStringInput'\n\nexport const DISPOSER_AUTOUPDATE = \"__autoupdate\"\n\nexport const ASC = true \nexport const DESC = false \nexport type ORDER_BY = Map<string, boolean>\n\nexport interface QueryProps<M extends Model> {\n    repository                  ?: Repository<M>\n    //\n    filter                      ?: Filter\n    order_by                    ?: OrderByInput \n\n    // pagination\n    offset                      ?: NumberInput<any>\n    limit                       ?: NumberInput<any>\n    // fields controll\n    relations                   ?: ArrayStringInput\n    fields                      ?: ArrayStringInput\n    omit                        ?: ArrayStringInput\n    //\n    autoupdate                  ?: boolean\n}\n\nexport class Query <M extends Model> {\n\n    readonly repository: Repository<M>\n    readonly filter    : Filter\n    readonly order_by  : OrderByInput \n    readonly offset    : NumberInput<any>\n    readonly limit     : NumberInput<any>\n    readonly relations : ArrayStringInput\n    readonly fields    : ArrayStringInput \n    readonly omit      : ArrayStringInput \n\n    @observable total         : number\n    @observable need_to_update: boolean = false\n    @observable timestamp     : number\n\n    @observable __items: M[] = []\n    @observable __is_loading  : boolean = false \n    @observable __is_ready    : boolean = false \n    @observable __error       : string = '' \n\n    get is_loading  () { return this.__is_loading   }\n    get is_ready    () { return this.__is_ready     }\n    get error       () { return this.__error        }\n    get items       () { return this.__items        }\n    // we going to migrate to JS style\n    get isLoading   () { return this.__is_loading   }\n    get isReady     () { return this.__is_ready     }\n\n    __controller        : AbortController\n    __disposers         : (()=>void)[] = []\n    __disposer_objects  : {[field: string]: ()=>void} = {}\n\n    constructor(props: QueryProps<M>) {\n        let {\n            repository, filter, order_by, offset, limit,\n            relations, fields, omit,\n            autoupdate = false\n        } = props\n\n        this.repository = repository \n        this.filter    = filter\n        this.order_by  = order_by   ? order_by  : new OrderByInput() \n        this.offset    = offset     ? offset    : new NumberInput() \n        this.limit     = limit      ? limit     : new NumberInput() \n        this.relations = relations  ? relations : new ArrayStringInput()\n        this.fields    = fields     ? fields    : new ArrayStringInput()\n        this.omit      = omit       ? omit      : new ArrayStringInput()\n        makeObservable(this)\n\n        this.__disposers.push(reaction(\n            () => this.repository?.adapter?.getURLSearchParams(this).toString(),\n            action('MO: Query Base - need to update', () => {\n                this.need_to_update = true\n                this.__is_ready = false\n            }),\n            { fireImmediately: true }\n        ))\n        this.autoupdate = autoupdate\n        // this.syncURLSearchParams && this.__doSyncURLSearchParams()\n    }\n\n    destroy() {\n        this.__controller?.abort()\n        while(this.__disposers.length) {\n            this.__disposers.pop()()\n        }\n        for(let __id in this.__disposer_objects) {\n            this.__disposer_objects[__id]()\n            delete this.__disposer_objects[__id]\n        } \n    }\n\n    async __wrap_controller(func: Function) {\n        if (this.__controller) {\n            this.__controller.abort()\n        }\n        this.__controller = new AbortController()\n        let response\n        try {\n            response = await func()\n        } catch (e) {\n            if (e.name !== 'AbortError' && e.message !== 'canceled') throw e\n        } finally {\n            this.__controller = undefined\n        }\n        return response\n    }\n\n    async __load() {\n        return this.__wrap_controller(async () => {\n            const objs = await this.repository.load(this, this.__controller)\n            runInAction(() => {\n                this.__items = objs\n            })\n        })\n    }\n\n    // use it if everybody should know that the query data is updating\n    @action('MO: Query Base - load')\n    async load() {\n        this.__is_loading = true\n        try {\n            await this.shadowLoad()\n        }\n        finally {\n            runInAction(() => {\n                // the loading can be canceled by another load\n                // in this case we should not touch the __is_loading\n                if (!this.__controller) {\n                    this.__is_loading = false\n                }\n            })\n        }\n    }\n\n    // use it if nobody should know that the query data is updating\n    // for example you need to update the current data on the page and you don't want to show a spinner\n    @action('MO: Query Base - shadow load')\n    async shadowLoad() {\n        try {\n            await this.__load()\n        }\n        catch(e) {\n            runInAction(() => {\n                this.__error = e.message\n            })\n        }\n        finally {\n            runInAction(() => {\n                // TODO: timestamp, aviod to trigger react hooks twise\n                if (!this.__is_ready) {\n                    this.__is_ready = true\n                    this.timestamp = Date.now() \n                }\n                if (this.need_to_update) this.need_to_update = false \n            })\n        }\n    }\n\n    get autoupdate() {\n        return !! this.__disposer_objects[DISPOSER_AUTOUPDATE]\n    }\n\n    set autoupdate(value: boolean) {\n        if (value !== this.autoupdate) {\n            // on \n            if (value) {\n                setTimeout(() => {\n                    this.__disposer_objects[DISPOSER_AUTOUPDATE] = reaction(\n                        // NOTE: don't need to check pagination and order because they are always ready \n                        () => this.need_to_update && (this.filter === undefined || this.filter.isReady),\n                        (need_to_update) => {\n                            if (need_to_update) {\n                                this.load()\n                            }\n                        },\n                        { fireImmediately: true }\n                    )\n                }, config.AUTO_UPDATE_DELAY)\n            }\n            // off\n            else {\n                this.__disposer_objects[DISPOSER_AUTOUPDATE]()\n                delete this.__disposer_objects[DISPOSER_AUTOUPDATE]\n            }\n        }\n    }\n\n    // Deprecated, it should be moved to the adapter\n    // get URLSearchParams(): URLSearchParams{\n    //     const searchParams = this.filter ? this.filter.URLSearchParams : new URLSearchParams()\n    //     if (this.order_by.size       ) searchParams.set('__order_by' , this.input_order_by.deserialize(this.order_by))\n    //     if (this.limit !== undefined ) searchParams.set('__limit'    , this.input_limit.deserialize(this.limit))\n    //     if (this.offset !== undefined) searchParams.set('__offset'   , this.input_offset.deserialize(this.offset))\n    //     if (this.relations.length    ) searchParams.set('__relations', this.input_relations.deserialize(this.relations))\n    //     if (this.fields.length       ) searchParams.set('__fields'   , this.input_fields.deserialize(this.fields))\n    //     if (this.omit.length         ) searchParams.set('__omit'     , this.input_omit.deserialize(this.omit))\n    //     return searchParams\n    // }\n\n    // use it if you need use promise instead of observe is_ready\n    ready = async () => waitIsTrue(this, '__is_ready')\n    // use it if you need use promise instead of observe is_loading\n    loading = async () => waitIsFalse(this, '__is_loading')\n}\n","import { action, runInAction } from 'mobx'\nimport { Query, QueryProps } from './query'\nimport { config } from '../config'\nimport { Model } from '../model'\n\nexport class QueryPage<M extends Model> extends Query<M> {\n\n    @action('MO: set page size') setPageSize(size: number) { this.limit.set(size); this.offset.set(0) }\n    @action('MO: set page')      setPage(n: number) { this.offset.set(this.limit.value * (n > 0 ? n-1 : 0)) }\n    goToFirstPage() { this.setPage(1) }\n    goToPrevPage () { this.setPage(this.current_page - 1) }\n    goToNextPage () { this.setPage(this.current_page + 1) }\n    goToLastPage () { this.setPage(this.total_pages) }\n\n    get is_first_page() : boolean { return this.offset.value === 0 }\n    get is_last_page () : boolean { return this.offset.value + this.limit.value >= this.total }\n    get current_page()  : number  { return this.offset.value / this.limit.value + 1 }\n    get total_pages()   : number  { return this.total ? Math.ceil(this.total / this.limit.value) : 1 }\n    // we going to migrate to JS style\n    get isFirstPage() : boolean { return this.is_first_page }\n    get isLastPage () : boolean { return this.is_last_page } \n    get currentPage() : number  { return this.current_page } \n    get totalPages()  : number  { return this.total_pages } \n\n    constructor(props: QueryProps<M>) {\n        super(props)\n        runInAction(() => {\n            if (this.offset.value === undefined) this.offset.set(0)\n            if (this.limit.value  === undefined) this.limit.set(config.DEFAULT_PAGE_SIZE)\n        })\n    }\n\n    async __load() {\n        return this.__wrap_controller(async () => {\n            const [objs, total] = await Promise.all([\n                this.repository.load(this, this.__controller),\n                this.repository.getTotalCount(this.filter, this.__controller)\n            ])\n            runInAction(() => {\n                this.__items = objs\n                this.total = total\n            })\n        })\n    }\n}\n","import { action, computed, observe, reaction } from 'mobx'\nimport { Query, QueryProps, ASC } from './query'\nimport { Model } from '../model'\n\n\nexport class QueryCacheSync <M extends Model> extends Query<M> {\n\n    constructor(props: QueryProps<M>) {\n        super(props)\n        // watch the cache for changes, and update items if needed\n        this.__disposers.push(observe(props.repository.cache.store, \n            action('MO: Query - update from cache changes',\n            (change: any) => {\n                if (change.type == 'add') {\n                    this.__watch_obj(change.newValue)\n                }\n                if (change.type == \"delete\") {\n                    let id = change.name\n                    let obj = change.oldValue\n\n                    this.__disposer_objects[id]()\n                    delete this.__disposer_objects[id]\n\n                    let i = this.__items.indexOf(obj)\n                    if (i != -1) {\n                        this.__items.splice(i, 1)\n                        this.total = this.__items.length\n                    }\n                }\n            })\n        ))\n\n        // ch all exist objects of model \n        for(let [id, obj] of props.repository.cache.store) {\n            this.__watch_obj(obj)\n        }\n    }\n\n    async __load() {\n        if (this.__controller) this.__controller.abort()\n        this.__controller = new AbortController()\n        try {\n            await this.repository.load(this, this.__controller)\n            // Query don't need to overide the __items,\n            // query's items should be get only from the cache\n        } catch (e) {\n            if (e.name !== 'AbortError')  throw e\n        } \n        // we have to wait the next tick\n        // mobx should finished recalculation for model-objects\n        await Promise.resolve();\n        // await new Promise(resolve => setTimeout(resolve))\n    }\n\n    @computed\n    get items() { \n        let __items = this.__items.map(x=>x) // copy __items (not deep)\n        if (this.order_by.value && this.order_by.value.size) {\n            let compare = (a, b) => {\n                for(const [key, value] of this.order_by.value) {\n                    if (value === ASC) {\n                        if ((a[key] === undefined || a[key] === null) && (b[key] !== undefined && b[key] !== null)) return  1\n                        if ((b[key] === undefined || b[key] === null) && (a[key] !== undefined && a[key] !== null)) return -1\n                        if (a[key] < b[key]) return -1\n                        if (a[key] > b[key]) return  1\n                    }\n                    else {\n                        if ((a[key] === undefined || a[key] === null) && (b[key] !== undefined && b[key] !== null)) return -1\n                        if ((b[key] === undefined || b[key] === null) && (a[key] !== undefined && a[key] !== null)) return  1\n                        if (a[key] < b[key]) return  1\n                        if (a[key] > b[key]) return -1\n                    }\n                }\n                return 0\n            }\n            __items.sort(compare)\n        }\n        return __items \n    }\n\n    __watch_obj(obj) {\n        if (this.__disposer_objects[obj.id]) this.__disposer_objects[obj.id]()\n        this.__disposer_objects[obj.id] = reaction(\n            () =>  !this.filter || this.filter.isMatch(obj),\n            action('MO: Query - obj was changed',\n            (should: boolean) => {\n                let i = this.__items.indexOf(obj)\n                // should be in the items and it is not in the items? add it to the items\n                if ( should && i == -1) this.__items.push(obj)\n                // should not be in the items and it is in the items? remove it from the items\n                if (!should && i != -1) this.__items.splice(i, 1)\n\n                if (this.total != this.__items.length) \n                    this.total = this.__items.length\n            }),\n            { fireImmediately: true }\n        )\n    }\n}\n","import { action, runInAction } from 'mobx'\nimport { Model } from '../model'\nimport { Query, QueryProps } from './query'\nimport { config } from '../config'\n\nexport class QueryStream <M extends Model> extends Query<M> {\n    // you can reset all and start from beginning\n    @action('MO: fisrt page') goToFirstPage() { this.__items = []; this.offset.set(0) }\n    // you can scroll only forward\n    @action('MO: next page')  goToNextPage () { this.offset.set(this.offset.value + this.limit.value) }\n\n    constructor(props: QueryProps<M>) {\n        super(props)\n        runInAction(() => {\n            if (this.offset.value === undefined) this.offset.set(0)\n            if (this.limit.value  === undefined) this.limit.set(config.DEFAULT_PAGE_SIZE)\n        })\n    }\n\n    async __load() {\n        if (this.__controller) this.__controller.abort()\n        this.__controller = new AbortController()\n        try {\n            const objs = await this.repository.load(this, this.__controller)\n            runInAction(() => {\n                this.__items.push(...objs)\n                // total is not make sense for infinity queries\n                // total = 1 show that last page is reached\n                if (objs.length < this.limit.value) this.total = 1\n            })\n        } catch (e) {\n            if (e.name !== 'AbortError')  throw e\n        } \n    }\n}\n","import { runInAction } from 'mobx'\nimport { Query } from './query'\nimport { Model } from '../model'\n\nexport class QueryRaw<M extends Model> extends Query<M> {\n    async __load() {\n        return this.__wrap_controller(async () => {\n            // get only raw objects from adapter\n            const objs = await this.repository.load(this, this.__controller)\n            runInAction(() => {\n                this.__items = objs\n            })\n        })\n    }\n}\n","import { runInAction } from 'mobx'\nimport { Model } from '../model'\nimport { QueryPage } from './query-page'\nimport { QueryProps } from './query'\n\n\nexport class QueryRawPage<M extends Model> extends QueryPage<M> {\n\n    constructor(props: QueryProps<M>) {\n        super(props)\n    }\n\n    async __load() {\n        return this.__wrap_controller(async () => {\n            // get only raw objects from adapter\n            const objs = await this.repository.load(this)\n            const total = await this.repository.getTotalCount(this.filter)\n            runInAction(() => {\n                this.__items = objs\n                this.total = total\n            })\n        })\n    }\n}\n","import { runInAction } from 'mobx'\nimport { Query, QueryProps } from './query'\n\nexport class QueryDistinct extends Query<any> {\n    readonly field: string\n    \n    constructor(field: string, props: QueryProps<any>) {\n        super(props)\n        this.field = field\n    }\n\n    async __load() {\n        return this.__wrap_controller(async () => {\n            const objs = await this.repository.getDistinct(this.filter, this.field, this.__controller)\n            runInAction(() => {\n                this.__items = objs\n            })\n        })\n    }\n}\n","import { action, intercept, makeObservable, observable, observe, runInAction, values } from 'mobx'\nimport { Query, QueryProps, QueryPage, QueryRaw, QueryRawPage, QueryCacheSync, QueryDistinct, QueryStream } from './queries'\nimport { Repository } from './repository'\n\n\nexport abstract class Model {\n    static readonly repository  : Repository<Model>\n\n    // - fields\n    // - relations (not exist on outside)\n    static __fields       : {\n        [field_name: string]: {\n            decorator   : (obj: Model, field_name: string) => void,\n            settings    : any,\n            serialize   : any,\n            deserialize : any\n        }\n    }\n    // relateions is a list of field only foreign, one or many types\n    static __relations : {\n        [field_name: string]: {\n            decorator   : (obj: Model, field_name: string) => void,\n            settings    : any\n            // there is no serializer of deserializer because\n            // it is derivative and does not come from outside\n        }\n    }\n\n    static getQuery(props: QueryProps<Model>): Query<Model> {\n        return new Query({...props, repository: this.repository })\n    }\n\n    static getQueryPage(props: QueryProps<Model>): QueryPage<Model> {\n        return new QueryPage({...props, repository: this.repository })\n    }\n\n    static getQueryRaw(props: QueryProps<Model>): QueryRaw<Model> {\n        return new QueryRaw({...props, repository: this.repository })\n    }\n\n    static getQueryRawPage(props: QueryProps<Model>): QueryRawPage<Model> {\n        return new QueryRawPage({...props, repository: this.repository })\n    }\n\n    static getQueryCacheSync(props: QueryProps<Model>): QueryCacheSync<Model> {\n        return new QueryCacheSync({...props, repository: this.repository })\n    }\n\n    static getQueryStream(props: QueryProps<Model>): QueryStream<Model> {\n        return new QueryStream({...props, repository: this.repository })\n    }\n\n    static getQueryDistinct(field: string, props: QueryProps<Model>): QueryDistinct {\n        return new QueryDistinct(field, {...props, repository: this.repository })\n    }\n\n    static get(id: any) {\n        return this.repository.cache.get(id)\n    }\n\n    static async findById(id: any) : Promise<Model> {\n        return this.repository.get(id)\n    }\n\n    static async find(query: Query<Model>) : Promise<Model> {\n        return this.repository.find(query)\n    }\n\n    @observable id: any|undefined = undefined\n    // TODO: should it be observable?\n    @observable __init_data: any   \n    __disposers = new Map()\n\n    constructor (...args) {}\n\n    @action('model - destroy')\n    destroy() {\n        while(this.__disposers.size) {\n            this.__disposers.forEach((disposer, key) => {\n                disposer()\n                this.__disposers.delete(key)\n            })\n        }\n    }\n\n    get model() : any {\n        return (<any>this.constructor).__proto__\n    }\n\n    // data only from fields (no ids)\n    get raw_data() : any {\n        let raw_data: any = {}\n        for(let field_name in this.model.__fields) {\n            if(this[field_name] !== undefined) {\n                raw_data[field_name] = this[field_name]\n            }\n        }\n        return raw_data\n    }\n\n    // it is raw_data + id\n    get raw_obj() : any {\n        let raw_obj: any = this.raw_data\n        raw_obj.id = this.id\n        return raw_obj\n    }\n\n    get only_changed_raw_data() : any {\n        let raw_data: any = {}\n        for(let field_name in this.model.__fields) {\n            if(this[field_name] !== undefined && this[field_name] != this.__init_data[field_name]) {\n                raw_data[field_name] = this[field_name]\n            }\n        }\n        return raw_data\n    }\n\n    get is_changed() : boolean {\n        for(let field_name in this.model.__fields) {\n            if (this[field_name] != this.__init_data[field_name]) {\n                return true\n            }\n        }\n        return false\n    }\n\n    async action(name: string, kwargs: Object) { return await this.model.repository.action(this, name, kwargs) }\n    async create() { return await this.model.repository.create(this) }\n    async update() { return await this.model.repository.update(this) }\n    async delete() { return await this.model.repository.delete(this) }\n    async save  () { return this.id === undefined ? this.create() : this.update() }\n    // update the object from the server\n    async refresh() { return await this.model.repository.get(this.id) }\n\n    @action('MO: obj - refresh init data')\n    refreshInitData() {\n        if(this.__init_data === undefined) this.__init_data = {}\n        for (let field_name in this.model.__fields) {\n            this.__init_data[field_name] = this[field_name]\n        }\n    }\n\n    @action('MO: obj - cancel local changes')\n    cancelLocalChanges() {\n        for (let field_name in this.model.__fields) {\n            if (this[field_name] !== this.__init_data[field_name]) {\n                this[field_name] = this.__init_data[field_name]\n            }\n        }\n    }\n\n    @action('MO: obj - update from raw')\n    updateFromRaw(raw_obj) {\n        if (this.id === undefined && raw_obj.id !== undefined && this.model.repository) {\n            // Note: object with equal id can be already in the cache (race condition)\n            // I have got the object from websocket before the response from the server\n            // Solution: remove the object (that came from websocket) from the cache\n            let exist_obj = this.model.repository.cache.get(raw_obj.id)\n            if (exist_obj) {\n                exist_obj.id = undefined\n            }\n            this.id = raw_obj.id\n        }\n        // update the fields if the raw data is exist and it is different\n        for(let field_name in this.model.__fields) {\n            if (raw_obj[field_name] !== undefined && raw_obj[field_name] !== this[field_name]) {\n                this[field_name] = raw_obj[field_name]\n            }\n        }\n\n        for(let relation in this.model.__relations) {\n            const settings = this.model.__relations[relation].settings\n            if (settings.foreign_model && raw_obj[relation]) {\n                settings.foreign_model.repository.cache.update(raw_obj[relation])\n                this[settings.foreign_id_name] = raw_obj[relation].id\n            }\n            else if (settings.remote_model && raw_obj[relation]) {\n                // many\n                if (Array.isArray(raw_obj[relation])) {\n                    for(const i of raw_obj[relation]) {\n                        settings.remote_model.repository.cache.update(i)\n                    }\n                }\n                // one\n                else {\n                    settings.remote_model.repository.cache.update(raw_obj[relation])\n                }\n            }\n        }\n    }\n}\n\n// Decorator\nexport function model(constructor) {\n    var original = constructor\n\n    // the new constructor\n    let f : any = function (...args) {\n        let c : any = class extends original { constructor (...args) { super(...args) } }\n            c.__proto__ = original\n\n        let obj = new c()\n        makeObservable(obj)\n        // id field reactions\n        obj.__disposers.set('before changes',\n            intercept(obj, 'id', (change) => {\n                if (change.newValue !== undefined && obj.id !== undefined)\n                    throw new Error(`You cannot change id field: ${obj.id} to ${change.newValue}`)\n                if (obj.id !== undefined && change.newValue === undefined)\n                    obj.model.repository.cache.eject(obj)\n                return change\n            }))\n        obj.__disposers.set('after changes',\n            observe(obj, 'id', (change) => {\n                if (obj.id !== undefined)\n                    obj.model.repository.cache.inject(obj)\n            }))\n\n        // apply fields decorators\n        for (let field_name in obj.model.__fields) {\n            obj.model.__fields[field_name].decorator(obj, field_name)\n        }\n        // apply __relations decorators\n        for (let field_name in obj.model.__relations) {\n            obj.model.__relations[field_name].decorator(obj, field_name)\n        }\n        if (args[0]) obj.updateFromRaw(args[0])\n        obj.refreshInitData()\n        return obj\n    }\n\n    f.__proto__ = original\n    f.prototype = original.prototype   // copy prototype so intanceof operator still works\n    Object.defineProperty(f, \"name\", { value: original.name });\n    return f                      // return new constructor (will override original)\n}\n","import { extendObservable } from 'mobx'\n\n\n\nexport function field_field(obj, field_name) {\n    // make observable and set default value\n    extendObservable(obj, { [field_name]: obj[field_name] })\n}\n\n\nexport function field(cls, field_name: string) {\n    let model = cls.constructor\n    if (model.__fields === undefined) model.__fields = {}\n\n    model.__fields[field_name] = { decorator: field_field }  // register field \n}\n","import {extendObservable, reaction, action} from 'mobx'\n\n\nfunction field_foreign(obj, field_name) {\n    let settings = obj.model.__relations[field_name].settings\n    let foreign_model   = settings.foreign_model\n    let foreign_id_name = settings.foreign_id_name\n\n    // make observable and set default value\n    extendObservable(obj, { [field_name]: undefined })\n\n    reaction(\n        // watch on foreign cache for foreign object\n        () => {\n            if (obj[foreign_id_name] === undefined) return undefined\n            if (obj[foreign_id_name] === null) return null \n            return foreign_model.repository.cache.get(obj[foreign_id_name])\n        },\n        // update foreign field\n        action('MO: Foreign - update',\n            (_new, _old) => obj[field_name] = _new \n        ),\n        {fireImmediately: true}\n    )\n}\n\nexport function foreign(foreign_model: any, foreign_id_name?: string) {\n    return function (cls: any, field_name: string) {\n        let model = cls.constructor\n        if (model.__relations === undefined) model.__relations = {}\n        // register field \n        model.__relations[field_name] = { \n            decorator: field_foreign,\n            settings: {\n                foreign_model: foreign_model,\n                // if it is empty then try auto detect it (it works only with single id) \n                foreign_id_name: foreign_id_name !== undefined ? foreign_id_name : `${field_name}_id`\n            } \n        } \n    }\n}\n","import { observe, extendObservable, runInAction, reaction, action } from 'mobx'\nimport { Model } from '../model'\n\n\nfunction field_one(obj: Model, field_name) {\n    // make observable and set default value\n    extendObservable(obj, { [field_name]: undefined })\n}\n\nexport function one(remote_model: any, remote_foreign_id_name?: string) {\n    return function (cls: any, field_name: string) {\n        let model = cls.prototype.constructor\n        if (model.__relations === undefined) model.__relations = {}\n        // if it is empty then try auto detect it (it works only with single id) \n        remote_foreign_id_name = remote_foreign_id_name !== undefined ? remote_foreign_id_name: `${model.name.toLowerCase()}_id`\n        model.__relations[field_name] = { \n            decorator: field_one,\n            settings: {\n                remote_model: remote_model,\n                remote_foreign_id_name: remote_foreign_id_name\n            } \n        } \n        const disposer_name = `MO: One - update - ${model.name}.${field_name}` \n\n        observe(remote_model.repository.cache.store, (change: any) => {\n            let remote_obj\n            switch (change.type) {\n                case 'add':\n                    remote_obj = change.newValue\n                    remote_obj.__disposers.set(disposer_name, reaction(\n                        () => { return { \n                            id: remote_obj[remote_foreign_id_name],\n                            obj: model.repository.cache.get(remote_obj[remote_foreign_id_name])}\n                        },\n                        action(disposer_name, (_new: any, _old: any) => {\n                            if (_old?.obj) _old.obj[field_name] = _new.id ? undefined : null\n                            if (_new?.obj) _new.obj[field_name] = remote_obj\n                        }),\n                        {fireImmediately: true}\n                    ))\n                    break\n                case 'delete':\n                    remote_obj = change.oldValue\n                    if (remote_obj.__disposers.get(disposer_name)) {\n                        remote_obj.__disposers.get(disposer_name)()\n                        remote_obj.__disposers.delete(disposer_name)\n                    }\n                    let obj =  model.repository.cache.get(remote_obj[remote_foreign_id_name])\n                    if (obj) \n                        runInAction(() => { obj[field_name] = undefined })\n                    break\n            }\n        })\n    }\n}\n","import { observe, extendObservable, runInAction, reaction, action } from 'mobx'\nimport { Model } from '../model'\n\n\nfunction field_many(obj: Model, field_name) {\n    extendObservable(obj, { [field_name]: [] })\n}\n\nexport function many(remote_model: any, remote_foreign_id_name?: string) {\n    return function (cls: any, field_name: string) {\n        let model = cls.prototype.constructor\n        if (model.__relations === undefined) model.__relations = {}\n        // if it is empty then try auto detect it (it works only with single id) \n        remote_foreign_id_name = remote_foreign_id_name !== undefined ? remote_foreign_id_name: `${model.name.toLowerCase()}_id`\n        model.__relations[field_name] = { \n            decorator: field_many,\n            settings: {\n                remote_model: remote_model,\n                remote_foreign_id_name: remote_foreign_id_name\n            } \n        } \n        const disposer_name = `MO: Many - update - ${model.name}.${field_name}`\n        \n        // watch for remote object in the cache \n        observe(remote_model.repository.cache.store, (remote_change: any) => {\n            let remote_obj\n            switch (remote_change.type) {\n                case 'add':\n                    remote_obj = remote_change.newValue\n                    remote_obj.__disposers.set(disposer_name , reaction(\n                        () => model.repository.cache.get(remote_obj[remote_foreign_id_name]),\n                        action(disposer_name, (_new, _old) => {\n                            if (_old) {\n                                const i = _old[field_name].indexOf(remote_obj)\n                                if (i > -1)\n                                    _old[field_name].splice(i, 1)\n                            }\n                            if (_new) {\n                                const i = _new[field_name].indexOf(remote_obj)\n                                if (i === -1)\n                                    _new[field_name].push(remote_obj)\n                            } \n                        }),\n                        {fireImmediately: true}\n                    ))\n                    break\n                case 'delete':\n                    remote_obj = remote_change.oldValue\n                    if (remote_obj.__disposers.get(disposer_name)) {\n                        remote_obj.__disposers.get(disposer_name)()\n                        remote_obj.__disposers.delete(disposer_name)\n                    }\n                    let obj =  model.repository.cache.get(remote_obj[remote_foreign_id_name])\n                    if (obj) {\n                        const i = obj[field_name].indexOf(remote_obj)\n                        if (i > -1)\n                            runInAction(() => { obj[field_name].splice(i, 1); })\n                    } \n                    break\n            }\n        })\n    }\n}\n","export abstract class Filter {\n    abstract get URLSearchParams() : URLSearchParams\n    abstract isMatch(obj: any) : boolean\n    abstract get isReady() : boolean\n}\n","import { makeObservable, observable } from 'mobx'\nimport { Filter } from './Filter'\nimport { Input } from '../inputs/Input'\n\n\nexport abstract class SingleFilter extends Filter {\n    readonly    field       : string\n    @observable input       : Input<any, any> \n    __disposers             : (()=>void)[] = []\n\n    constructor(field: string, input: Input<any, any>) {\n        super()\n        this.field = field\n        this.input = input \n        makeObservable(this)\n    }\n\n    get isReady(): boolean {\n        return this.input.isReady\n    }\n\n    get URLSearchParams(): URLSearchParams{\n        let search_params = new URLSearchParams()\n        let value = this.input.deserialize() \n        !this.input.disabled && value !== undefined && search_params.set(this.URIField, value)\n        return search_params\n    }\n\n    abstract get URIField() : string\n\n    abstract operator(value_a, value_b) : boolean\n\n    isMatch(obj: any): boolean {\n        // it's always match if value of filter is undefined\n        if (this.input === undefined || this.input.disabled)\n            return true\n\n        return match(obj, this.field, this.input.value, this.operator)\n    }\n}\n\n\nfunction match(obj: any, field_name: string, filter_value: any, operator: (value_a, value_b) => boolean): boolean {\n    let field_names = field_name.split('__')\n    let current_field_name = field_names[0]\n    let current_value = obj[current_field_name]\n\n         if (field_names.length === 1) return operator(current_value, filter_value)\n    else if (field_names.length   > 1) {\n        let next_field_name = field_name.substring(field_names[0].length+2)\n        // we have object relation\n        if (typeof current_value === 'object' && current_value !== null) {\n            if (Array.isArray(current_value)) {\n                let result = false\n                for(const item of current_value) {\n                    result = match(item, next_field_name, filter_value, operator)\n                    if (result) return result\n                }\n            }\n            else {\n                return match(current_value, next_field_name, filter_value, operator)\n            }\n        }\n    }\n    return false\n}\n","import { Filter } from \"./Filter\"\n\n\nexport abstract class ComboFilter extends Filter {\n    readonly filters: Filter[]\n\n    constructor(filters: Filter[]) {\n        super()\n        this.filters = filters\n    }\n\n    abstract isMatch(obj: any) : boolean\n\n    get isReady(): boolean {\n        for(let filter of this.filters) {\n            if (!filter.isReady) return false\n        }\n        return true\n    }\n\n    get URLSearchParams(): URLSearchParams{\n        let search_params = new URLSearchParams()\n        for(let filter of this.filters) {\n            filter.URLSearchParams.forEach((value, key) => search_params.set(key, value))\n        }\n        return search_params\n    }\n}\n","import { Input } from '../inputs'\nimport { SingleFilter } from './SingleFilter'\n\n\nexport class EQ_Filter extends SingleFilter {\n\n    get URIField(): string {\n        return `${this.field}` \n    }\n\n    operator(value_a: any, value_b: any): boolean {\n        return value_a === value_b\n    }\n}\n\n// EQV is a verbose version of EQ that add __eq to the URIField\nexport class EQV_Filter extends EQ_Filter {\n    get URIField(): string {\n        return `${this.field}__eq` \n    }\n}\n\nexport function EQ(field: string, value: Input<any, any>) : SingleFilter {\n    return new EQ_Filter(field, value)\n}\n\nexport function EQV(field: string, value: Input<any, any>) : SingleFilter {\n    return new EQV_Filter(field, value)\n}\n","import { Input } from '../inputs/Input'\nimport { SingleFilter } from \"./SingleFilter\"\n\n\nexport class NOT_EQ_Filter extends SingleFilter {\n\n    get URIField(): string {\n        return `${this.field}__not_eq` \n    }\n\n    operator(value_a: any, value_b: any): boolean {\n        return value_a !== value_b\n        \n    }\n}\n\nexport function NOT_EQ(field: string, value: Input<any, any>) : SingleFilter {\n    return new NOT_EQ_Filter(field, value)\n}\n","import { Input } from '../inputs'\nimport { SingleFilter } from \"./SingleFilter\"\n\n\nexport class GT_Filter extends SingleFilter {\n\n    get URIField(): string {\n        return `${this.field}__gt` \n    }\n\n    operator(value_a: any, value_b: any): boolean {\n        return value_a > value_b\n    }\n}\n\nexport function GT(field: string, value: Input<any, any>) : SingleFilter {\n    return new GT_Filter(field, value)\n}\n","import { Input } from '../inputs'\nimport { SingleFilter } from \"./SingleFilter\"\n\n\nexport class GTE_Filter extends SingleFilter {\n\n    get URIField(): string {\n        return `${this.field}__gte` \n    }\n\n    operator(value_a: any, value_b: any): boolean {\n        return value_a >= value_b\n    }\n}\n\nexport function GTE(field: string, value: Input<any, any>) : SingleFilter {\n    return new GTE_Filter(field, value)\n}\n","import { Input } from '../inputs/Input'\nimport { SingleFilter } from \"./SingleFilter\"\n\n\nexport class LT_Filter extends SingleFilter {\n\n    get URIField(): string {\n        return `${this.field}__lt` \n    }\n\n    operator(value_a: any, value_b: any): boolean {\n        return value_a < value_b\n    }\n}\n\nexport function LT(field: string, value: Input<any, any>) : SingleFilter {\n    return new LT_Filter(field, value)\n}\n","import { Input } from '../inputs/Input'\nimport { SingleFilter } from \"./SingleFilter\"\n\n\nexport class LTE_Filter extends SingleFilter {\n\n    get URIField(): string {\n        return `${this.field}__lte` \n    }\n\n    operator(value_a: any, value_b: any): boolean {\n        return value_a <= value_b\n    }\n}\n\nexport function LTE(field: string, value: Input<any, any>) : SingleFilter {\n    return new LTE_Filter(field, value)\n}\n","import { Input } from '../inputs/Input'\nimport { SingleFilter } from \"./SingleFilter\"\n\n\nexport class IN_Filter extends SingleFilter {\n\n    get URIField(): string {\n        return `${this.field}__in`\n    }\n\n    operator(value_a, value_b): boolean {\n        // it's always match if value of filter is empty []\n        if (value_b.length === 0) return true\n\n        for (let v of value_b) {\n            if (v === value_a) return true\n        }\n        return false\n    }\n}\n\nexport function IN(field: string, value: Input<any, any>) : SingleFilter { \n    return new IN_Filter(field, value)\n}\n","import { Input } from '../inputs/Input'\nimport { SingleFilter } from \"./SingleFilter\"\n\n\nexport class LIKE_Filter extends SingleFilter {\n\n    get URIField(): string {\n        return `${this.field}__contains` \n    }\n\n    operator(current_value: any, filter_value: any): boolean {\n        return current_value.includes(filter_value) \n    }\n}\n\nexport function LIKE(field: string, value: Input<any, any>) : SingleFilter {\n    return new LIKE_Filter(field, value)\n}\n","import { Input } from '../inputs'\nimport { SingleFilter } from \"./SingleFilter\"\n\n\nexport class ILIKE_Filter extends SingleFilter {\n\n    get URIField(): string {\n        return `${this.field}__icontains` \n    }\n\n    operator(current_value: any, filter_value: any): boolean {\n        return current_value.toLowerCase().includes(filter_value.toLowerCase()) \n    }\n}\n\nexport function ILIKE(field: string, value: Input<any, any>) : SingleFilter {\n    return new ILIKE_Filter(field, value)\n}\n","import { ComboFilter } from \"./ComboFilter\"\nimport { Filter } from \"./Filter\"\n\n\nexport class AND_Filter extends ComboFilter {\n\n    isMatch(obj: any) : boolean {\n        for(let filter of this.filters) {\n            if (!filter.isMatch(obj)) {\n                return false\n            }\n        }\n        return true \n    }\n}\n\nexport function AND(...filters: Filter[]) : Filter { return new AND_Filter(filters) }\n","import { Model } from '../model'\nimport { Query } from '../queries'\nimport { Filter } from '../filters'\n\n\nexport abstract class Adapter <M extends Model> {\n    abstract create (raw_data: any, controller?: AbortController): Promise<any>\n    abstract get    (obj_id: any, controller?: AbortController): Promise<any>\n    abstract update (obj_id: any, only_changed_raw_data: any, controller?: AbortController): Promise<any>\n    abstract delete (obj_id: any, controller?: AbortController): Promise<void>\n    abstract action (obj_id: any, name: string, kwargs: Object, controller?: AbortController) : Promise<any>\n\n    // the find returns first object that match the query or undefined\n    abstract find(query: Query<M>, controller?: AbortController): Promise<any>\n    abstract load(query: Query<M>, controller?: AbortController): Promise<any[]>\n\n    abstract getTotalCount  (filter: Filter, controller?: AbortController): Promise<number>\n    abstract getDistinct    (filter: Filter, field: string, controller?: AbortController): Promise<any[]>\n\n    abstract getURLSearchParams(query: Query<M>): URLSearchParams\n}\n","import { Model } from '../model'\nimport { Adapter } from './adapter'\n\nexport abstract class ReadOnlyAdapter<M extends Model> extends Adapter<M> {\n    async create() { throw(`You cannot create using READ ONLY adapter.`) }\n    async update() { throw(`You cannot update using READ ONLY adapter.`) }\n    async delete() { throw(`You cannot delete using READ ONLY adapter.`) }\n}\n","import { Model } from '../model'\nimport { Query } from '../queries/query'\nimport { Repository }  from '../repository'\nimport { Filter } from '../filters/Filter'\nimport { Adapter } from './adapter'\n\n/*\nYou can use this adapter for mock data or for unit test\n*/\n\nfunction timeout(ms: number) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport let local_store: {string?: {any: Model}} = {}\n\nexport class LocalAdapter<M extends Model> implements Adapter<M> {\n\n    readonly    store_name  : string\n                delay       : number  // delays for simulate real usage, use it only for tests\n\n    init_local_data(data: any[]) {\n        let objs = {} \n        for(let obj of data) {\n            objs[obj.id] = obj\n        }\n        local_store[this.store_name] = objs\n    }\n\n    constructor(store_name: string) {\n        this.store_name = store_name\n        local_store[this.store_name] = {}\n    }\n\n    async action(obj_id: number, name: string, kwargs: Object) : Promise<any> {\n    }\n\n    async create(raw_data: any) : Promise<any> {\n        if (this.delay) await timeout(this.delay) \n\n        // calculate and set new ID\n        let ids = [0]\n        for(let id of Object.keys(local_store[this.store_name])) {\n            ids.push(parseInt(id))\n        }\n        let max = Math.max.apply(null, ids)\n        raw_data.id = max + 1\n        local_store[this.store_name][raw_data.id] = raw_data\n        return raw_data\n    }\n\n    async get(obj_id: any) : Promise<any> {\n        if (this.delay) await timeout(this.delay) \n        let raw_obj = Object.values(local_store[this.store_name])[0]\n        return raw_obj\n    }\n\n    async update(obj_id: number, only_changed_raw_data: any) : Promise<any> {\n        if (this.delay) await timeout(this.delay) \n        let raw_obj = local_store[this.store_name][obj_id] \n        for(let field of Object.keys(only_changed_raw_data)) {\n            raw_obj[field] = only_changed_raw_data[field]\n        }\n        return raw_obj \n    }\n\n    async delete(obj_id: number) : Promise<void> {\n        if (this.delay) await timeout(this.delay) \n        delete local_store[this.store_name][obj_id]\n    }\n\n    async find(query: Query<M>) : Promise<any> {\n        if (this.delay) await timeout(this.delay) \n        let raw_obj = Object.values(local_store[this.store_name])[0]\n        return raw_obj\n    }\n\n    async load (query: Query<M>) : Promise<any[]> {\n        if (this.delay) await timeout(this.delay) \n        let raw_objs = []\n\n        if (query.filter) {\n            for(let raw_obj of Object.values(local_store[this.store_name])) {\n            }\n        }\n        else {\n            raw_objs = Object.values(local_store[this.store_name])\n        }\n\n        // order_by (sort)\n        if (query.order_by.value) {\n            raw_objs = raw_objs.sort((obj_a, obj_b) => {\n                let res\n                for(let sort_by_field of query.order_by.value) {\n                }\n                return 0\n            })\n        }\n\n        // page\n        if (query.limit.value !== undefined && query.offset.value !== undefined) {\n            raw_objs = raw_objs.slice(query.offset.value, query.offset.value+query.limit.value)\n        }\n        return raw_objs \n    }\n\n    async getTotalCount(filter: Filter): Promise<number> {\n        return Object.values(local_store[this.store_name]).length\n    }\n\n    async getDistinct(filter, filed): Promise<any[]> {\n        return []\n    }\n\n    getURLSearchParams(query: Query<M>): URLSearchParams {\n        return new URLSearchParams()\n    }\n}\n\n\n// model decorator\nexport function local() {\n    return (cls: any) => {\n        let repository = new Repository(cls, new LocalAdapter(cls.name)) \n        cls.__proto__.repository = repository\n    }\n}\n","import { Input } from \"./Input\"\n\n\nexport class BooleanInput extends Input<boolean|null|undefined, any> {\n\n    serialize(value?: string) {\n        if (value === undefined) this.set(undefined)\n        if (value === 'null')    this.set(null)\n        if (value === null)      this.set(undefined)\n        else this.set(value === 'true' ? true : value === 'false' ? false : undefined)\n    }\n\n    deserialize(): string {\n        if (this.value === undefined) return undefined\n        if (this.value === null) return 'null'\n        return !!this.value ? 'true' : 'false' \n    }\n}\n","import { Input } from './Input'\n\nexport class DateInput extends Input<Date|null|undefined, any> {\n\n    serialize(value: string){\n        if (value === undefined) this.set(undefined)\n        if (value === 'null')    this.set(null)\n        else this.set(new Date(value))\n    }\n\n    deserialize(): string {\n        if (this.value === undefined) return undefined\n        if (this.value === null) return 'null'\n        return this.value instanceof Date ? (this.value as Date).toISOString().split('T')[0] : \"\"\n    }\n}\n","import { Input } from \"./Input\"\n\n\nexport class DateTimeInput extends Input<Date|null|undefined, any> {\n\n    serialize(value?: string) {\n             if (value === undefined) this.set(undefined)\n        else if (value === 'null')    this.set(null)\n        else this.set(new Date(value))\n    }\n\n    deserialize(): string {\n        if (this.value === undefined) return undefined\n        if (this.value === null) return 'null'\n        return this.value instanceof Date ? (this.value as Date).toISOString() : \"\"\n    }\n}\n","import { Input, InputConstructorArgs } from './Input'\n\nexport class EnumInput<EnumType extends Object, EnumValue extends EnumType[keyof EnumType]> extends Input<EnumValue|null|undefined, any> {\n    private enum: EnumType\n\n    constructor(args: InputConstructorArgs<EnumValue, any> & { enum : EnumType } ) {\n        super(args)\n        this.enum = args.enum\n    }\n\n    serialize(value?: string) {\n             if (value === 'null')    this.set(null)\n        else if (value === undefined) this.set(undefined)\n        else if (value === null)      this.set(null)\n        else this.set(Object.values(this.enum).find(v => v == value) as EnumValue)\n    }\n\n    deserialize(): string {\n        if (this.value === undefined) return undefined\n        if (this.value === null) return 'null'\n        return this.value.toString()\n    }\n}\n","import { ArrayInput } from './ArrayInput'\nimport { NumberInput } from './NumberInput'\n\n\nexport class ArrayNumberInput extends ArrayInput<number[], any> {\n\n    serialize(value: string) {\n        let result = [] \n        if (value) {\n            let converter = new NumberInput()\n            for (const i of value.split(',')) {\n                converter.serialize(i)\n                if (converter.value !== undefined) {\n                    result.push(converter.value)\n                }\n            }\n        }\n        this.set(result)\n    }\n\n    deserialize() : string {\n        let result = [] \n        if (this.value) {\n            for (const i of this.value) {\n                let converter = new NumberInput({value: i})\n                let v = converter.deserialize() \n                if (v !== undefined) {\n                    result.push(v)\n                }\n            }\n\n        }\n        return result.length ? result.join(',') : undefined\n    }\n}\n","// TODO: ObjectInput based on NumberInput with default autoReset + types\nimport { Model } from '../model'\nimport { InputConstructorArgs } from './Input'\nimport { NumberInput } from './NumberInput'\n\n\nexport interface ObjectInputConstructorArgs<T, M extends Model> extends InputConstructorArgs<T, M> {\n    model: new (...args: any[]) => M\n}\n\nexport class ObjectInput<M extends Model> extends NumberInput<M> {\n    readonly model: new (...args: any[]) => M\n\n    constructor (args?: ObjectInputConstructorArgs<number, M>) {\n        super(args as InputConstructorArgs<number, M>)\n        this.model = args.model\n    }\n\n    get obj() : M {\n        return (this.model as any).get(this.value)\n    }\n}\n","import { NumberInput } from '../NumberInput'\n\nexport function autoResetId(input: NumberInput<any>) {\n    if (!input.options) {\n        console.warn('Input with autoResetId has no options', input)\n        return \n    }\n    // if value still in options, do nothing\n    for (const item of input.options.items) {\n        if (item.id === input.value) {\n            input.set(input.value) // we need to set value to trigger reaction\n            return\n        }\n    }\n    // otherwise set first available id or undefined\n    input.set(input.options.items[0]?.id)\n}\n","import { ArrayNumberInput } from '../ArrayNumberInput'\n\nexport const autoResetArrayOfIDs = (input: ArrayNumberInput) => {\n    if (!input.options) {\n        console.warn('Input with autoResetArrayOfIDs has no options', input)\n        return \n    }\n    // if one of values not in options, reset the input \n    for (const id of input.value) {\n        let found = false\n        for (const item of input.options.items) {\n            if (item.id === id) {\n                found = true\n                break\n            }\n        }\n        if (!found) {\n            input.set([])\n            return\n        }\n    }\n    input.set(input.value)\n}\n","export const autoResetArrayToEmpty = (input: any) => {\n    if (!input.options) input.set(input.value)\n    else input.set([])\n}\n","import { observable } from 'mobx'\nimport { Input } from '../inputs/Input'\nimport { config } from '..'\n\n\nexport class Form {\n    readonly    inputs      : { [key: string]: Input<any, any> }\n    @observable isLoading   : boolean = false\n    @observable errors      : string[] = []\n\n    private __submit: () => Promise<void>\n    private __cancel: () => void\n\n    constructor(inputs: { [key: string]: Input<any, any> }, submit: () => Promise<void>, cancel: () => void) {\n        this.inputs = inputs\n        this.__submit = submit\n        this.__cancel = cancel\n    }\n\n    get isReady(): boolean {\n        return Object.values(this.inputs).every(input => input.isReady)\n    }\n\n    get isError(): boolean {\n        return this.errors.length > 0 || Object.values(this.inputs).every(input => input.isError)\n    }\n\n    async submit() {\n        if (!this.isReady) {\n            // just ignore\n            return\n        }\n\n        this.isLoading = true\n        this.errors = []\n\n        try {\n            await this.__submit()\n        } catch (err) {\n            for (const key in err.message) {\n                if (key === config.NON_FIELD_ERRORS_KEY) {\n                    this.errors = err.message[key]\n                } else {\n                    this.inputs[key].errors = err.message[key]\n                }\n            }\n        }\n\n        this.isLoading = false\n    }\n\n    cancel() {\n        this.__cancel()\n    }\n}\n"],"names":["makeObservable","observable","action","runInAction","autorun","_","reaction","observe","computed","intercept","extendObservable"],"mappings":"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"}